<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Fuzzy Octo Nemesis: Game.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sikhism-40414_640.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fuzzy Octo Nemesis
   &#160;<span id="projectnumber">1.00a</span>
   </div>
   <div id="projectbrief">Rogue like game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_game_8cpp_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Game.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include&quot;header.hpp&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_game.html#ad59df6562a58a614fda24622d3715b65">   43</a></span>&#160;<a class="code" href="class_game.html#ad59df6562a58a614fda24622d3715b65">Game::Game</a>() </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    _fightState = make_shared&lt;FightState&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    _moveState = make_shared&lt;MoveState&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    _lootState = make_shared&lt;LootState&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    _endGameState = make_shared&lt;EndGameState&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    generator = make_shared&lt;Generator&gt;();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    screen = make_shared&lt;Screen&gt;();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    monsterFactory = make_shared&lt;MonsterFactoryConcrete&gt;();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    bossFactory = make_shared&lt;BossFactory&gt;();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    equipementFactory = make_shared&lt;EquipementFactory&gt;();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    level = 1;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    _currentState = _moveState;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_game.html#ae3d112ca6e0e55150d2fdbc704474530">   67</a></span>&#160;<a class="code" href="class_game.html#ae3d112ca6e0e55150d2fdbc704474530">Game::~Game</a>() {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_game.html#a2a05d793c901ebdc60832d187b58d501">   80</a></span>&#160;shared_ptr&lt;Generator&gt; <a class="code" href="class_game.html#a2a05d793c901ebdc60832d187b58d501">Game::getGenerator</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> generator;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_game.html#acbabdf93244732c23a8fe1b482548fd5">   92</a></span>&#160;shared_ptr&lt;Character&gt; <a class="code" href="class_game.html#acbabdf93244732c23a8fe1b482548fd5">Game::getCharacter</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> character;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_game.html#a65eb691cddef147865580a8e0b76c579">  104</a></span>&#160;shared_ptr&lt;Screen&gt; <a class="code" href="class_game.html#a65eb691cddef147865580a8e0b76c579">Game::getScreen</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> screen;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="class_game.html#aed827cbeb1d04b1e5a3fb417c1ceba96">  116</a></span>&#160;shared_ptr&lt;GameState&gt; <a class="code" href="class_game.html#aed827cbeb1d04b1e5a3fb417c1ceba96">Game::getFightState</a>() {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> _fightState;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="class_game.html#a73f457fb36d780c9075cfa15499767a5">  127</a></span>&#160;shared_ptr&lt;GameState&gt; <a class="code" href="class_game.html#a73f457fb36d780c9075cfa15499767a5">Game::getMoveState</a>() {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> _moveState;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="class_game.html#a243b312b1ec1fce3495cc6e254505cf7">  138</a></span>&#160;shared_ptr&lt;GameState&gt; <a class="code" href="class_game.html#a243b312b1ec1fce3495cc6e254505cf7">Game::getLootState</a>() {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> _lootState;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_game.html#ab13bfc3f0c9e08551a0f55daeab31840">  149</a></span>&#160;shared_ptr&lt;GameState&gt; <a class="code" href="class_game.html#ab13bfc3f0c9e08551a0f55daeab31840">Game::getEndGameState</a>() {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> _endGameState;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="class_game.html#a53141ff044e4aa43f23d7dbed11272f6">  160</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_game.html#a53141ff044e4aa43f23d7dbed11272f6">Game::getLevel</a>() {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> level;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="class_game.html#a68cfd228e261c182cfadf90463dc4727">  173</a></span>&#160;vector&lt; shared_ptr&lt;Monster&gt; &gt;* <a class="code" href="class_game.html#a68cfd228e261c182cfadf90463dc4727">Game::getMonstersList</a>() {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> &amp;monsters;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;} </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_game.html#a9e430bb75a7df9425b257d0018a97bb5">  185</a></span>&#160;shared_ptr&lt;EquipementFactory&gt; <a class="code" href="class_game.html#a9e430bb75a7df9425b257d0018a97bb5">Game::getEquipementFactory</a>() {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> equipementFactory;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="class_game.html#ab2fc71103cf572ed77dc4a30f31f9d5e">  196</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#ab2fc71103cf572ed77dc4a30f31f9d5e">Game::setLevel</a>(<span class="keywordtype">int</span> newLevel) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    level = newLevel;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="class_game.html#a9aa1730ad9b8b9bf02bf591b65c9c2c7">  207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a9aa1730ad9b8b9bf02bf591b65c9c2c7">Game::setState</a>(shared_ptr&lt;GameState&gt; s) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    _currentState = s;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="class_game.html#a2355400f456780bddd38229a664e8b99">  220</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">Game::action</a>() {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    _currentState -&gt; <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">action</a>();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_game.html#aa68d983ff49b8b5235fc378a9bf03f4f">  233</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">Game::action</a>(shared_ptr&lt;Monster&gt; mons) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    _currentState -&gt; <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">action</a>(mons);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="class_game.html#a64a1de2e0b4bb9099af1fa3299d22e8d">  246</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">Game::action</a>(<span class="keywordtype">bool</span> b) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    _currentState -&gt; <a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">action</a>(b);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="class_game.html#aedb4cdc93c8ab85f2f7aff018ccd76ca">  260</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#aedb4cdc93c8ab85f2f7aff018ccd76ca">Game::launchGame</a>() {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">int</span> x = 40 + generator -&gt; getSize();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">int</span> y = 18 + generator -&gt; getSize();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">string</span> str = <span class="stringliteral">&quot;resize -s &quot;</span>+to_string(y)+<span class="stringliteral">&quot; &quot;</span>+to_string(x);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">//resizing the window with a bash script</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    system((<span class="keywordtype">char</span>*)str.c_str());    </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    screen -&gt; init(); </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    screen -&gt; displayIntro(); </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    character = (screen -&gt; chooseCharacter());</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    screen -&gt; windowBuilding(generator -&gt; getSize());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="class_game.html#a8e92b564d2a037f0455b2f10ec9900f0">  282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a8e92b564d2a037f0455b2f10ec9900f0">Game::moveCharacter</a>() {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">int</span> ch = getch();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> ((ch == KEY_UP) or (ch == KEY_DOWN) or (ch == KEY_RIGHT) or (ch == KEY_LEFT)) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">/* Update the model */</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        character -&gt; updatePosition(ch, generator -&gt; getSize(), generator -&gt; getMap());        </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">/* Warn the view */</span> </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        generator -&gt; updateCharPosition(character);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    } </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="class_game.html#a9fd07ff4033e3d6fc2a9960e250581e6">  302</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a9fd07ff4033e3d6fc2a9960e250581e6">Game::equip</a>(shared_ptr&lt;Equipement&gt; equipement) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (equipement -&gt; isWeapon()) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        character -&gt; setWeapon(equipement);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    } <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (equipement -&gt; isArmor()) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        character -&gt; setArmor(equipement);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    } <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (equipement -&gt; isHelmet()) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        character -&gt; setHelmet(equipement);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (equipement -&gt; isShield()) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        character -&gt; setShield(equipement);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    screen -&gt; updateCharacterInfo(character);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_game.html#a124812c1a7b84f3aead51cb35a5146f8">  329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a124812c1a7b84f3aead51cb35a5146f8">Game::generateMap</a>() {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    generator -&gt; init();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    generator -&gt; split();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    generator -&gt; createRoom();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    generator -&gt; createHalls();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    generator -&gt; buildMap();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    generator -&gt; placeCharacter(character);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    monsters = generator -&gt; placeMonsters(level, monsterFactory, bossFactory);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    screen -&gt; updateCharacterInfo(character);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="class_game.html#a265b4a907a360afbb131334300968c9d">  349</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_game.html#a265b4a907a360afbb131334300968c9d">Game::displayMap</a>() {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    screen -&gt; clearMap();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    vector&lt; vector&lt;char&gt; &gt; map = generator -&gt; getMap();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">string</span> line = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">string</span> vLine = <span class="stringliteral">&quot;&quot;</span>;   </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Add # at the top, the bottom, and the edges of the map for visual enhancement</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (generator -&gt; getSize() + 2); ++i) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        vLine = vLine + <span class="stringliteral">&quot;#&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }   </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    screen -&gt; mvprintMap(7,1,vLine);    </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    screen -&gt; mvprintMap(7,1+generator-&gt;getSize()+1,vLine);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// parse each arrays of the matrix, put them in one string, and display it</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; generator -&gt; getSize(); i++) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        line = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        line = line + <span class="stringliteral">&quot;#&quot;</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; generator -&gt; getSize(); j++) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            line = line + map[j][i];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        line = line + <span class="stringliteral">&quot;#&quot;</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        screen -&gt; mvprintMap(7, i+2, line);    </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// level indicator</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    screen -&gt; mvprintMap(2, generator -&gt; getSize() +3, <span class="stringliteral">&quot;Level &quot;</span>+to_string(level));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="keywordtype">int</span> main() {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="class_game.html">Game</a> game;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    game.<a class="code" href="class_game.html#aedb4cdc93c8ab85f2f7aff018ccd76ca">launchGame</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    game.<a class="code" href="class_game.html#a124812c1a7b84f3aead51cb35a5146f8">generateMap</a>();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    game.<a class="code" href="class_game.html#a265b4a907a360afbb131334300968c9d">displayMap</a>();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    game.<a class="code" href="class_game.html#a124812c1a7b84f3aead51cb35a5146f8">generateMap</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    game.<a class="code" href="class_game.html#a265b4a907a360afbb131334300968c9d">displayMap</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">/* quand on perd, le niveau est amené à 0 */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">while</span> (game.<a class="code" href="class_game.html#a53141ff044e4aa43f23d7dbed11272f6">getLevel</a>()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        game.<a class="code" href="class_game.html#a2355400f456780bddd38229a664e8b99">action</a>();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        game.<a class="code" href="class_game.html#a265b4a907a360afbb131334300968c9d">displayMap</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    endwin();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    exit(1);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="ttc" id="class_game_html_ae3d112ca6e0e55150d2fdbc704474530"><div class="ttname"><a href="class_game.html#ae3d112ca6e0e55150d2fdbc704474530">Game::~Game</a></div><div class="ttdeci">~Game()</div><div class="ttdoc">Destructeur de la classe cliente game. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00067">Game.cpp:67</a></div></div>
<div class="ttc" id="class_game_html_aed827cbeb1d04b1e5a3fb417c1ceba96"><div class="ttname"><a href="class_game.html#aed827cbeb1d04b1e5a3fb417c1ceba96">Game::getFightState</a></div><div class="ttdeci">shared_ptr&lt; GameState &gt; getFightState()</div><div class="ttdoc">Getter de l&#39;attribut _fightState. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00116">Game.cpp:116</a></div></div>
<div class="ttc" id="class_game_html_a124812c1a7b84f3aead51cb35a5146f8"><div class="ttname"><a href="class_game.html#a124812c1a7b84f3aead51cb35a5146f8">Game::generateMap</a></div><div class="ttdeci">void generateMap()</div><div class="ttdoc">Methode de génération aléatoire de la map. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00329">Game.cpp:329</a></div></div>
<div class="ttc" id="class_game_html_ad59df6562a58a614fda24622d3715b65"><div class="ttname"><a href="class_game.html#ad59df6562a58a614fda24622d3715b65">Game::Game</a></div><div class="ttdeci">Game()</div><div class="ttdoc">Constructeur de la classe cliente game. Initialisation des attributs. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00043">Game.cpp:43</a></div></div>
<div class="ttc" id="class_game_html_aedb4cdc93c8ab85f2f7aff018ccd76ca"><div class="ttname"><a href="class_game.html#aedb4cdc93c8ab85f2f7aff018ccd76ca">Game::launchGame</a></div><div class="ttdeci">void launchGame()</div><div class="ttdoc">appelle la méthode de lancement du jeu </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00260">Game.cpp:260</a></div></div>
<div class="ttc" id="class_game_html_a9aa1730ad9b8b9bf02bf591b65c9c2c7"><div class="ttname"><a href="class_game.html#a9aa1730ad9b8b9bf02bf591b65c9c2c7">Game::setState</a></div><div class="ttdeci">void setState(shared_ptr&lt; GameState &gt; s)</div><div class="ttdoc">setter de l&#39;état actuel de la classe cliente </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00207">Game.cpp:207</a></div></div>
<div class="ttc" id="class_game_html_a2a05d793c901ebdc60832d187b58d501"><div class="ttname"><a href="class_game.html#a2a05d793c901ebdc60832d187b58d501">Game::getGenerator</a></div><div class="ttdeci">shared_ptr&lt; Generator &gt; getGenerator() const </div><div class="ttdoc">Getter de l&#39;attribut Generator. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00080">Game.cpp:80</a></div></div>
<div class="ttc" id="class_game_html_a65eb691cddef147865580a8e0b76c579"><div class="ttname"><a href="class_game.html#a65eb691cddef147865580a8e0b76c579">Game::getScreen</a></div><div class="ttdeci">shared_ptr&lt; Screen &gt; getScreen() const </div><div class="ttdoc">Getter de l&#39;attribut Screen. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00104">Game.cpp:104</a></div></div>
<div class="ttc" id="class_game_html_acbabdf93244732c23a8fe1b482548fd5"><div class="ttname"><a href="class_game.html#acbabdf93244732c23a8fe1b482548fd5">Game::getCharacter</a></div><div class="ttdeci">shared_ptr&lt; Character &gt; getCharacter() const </div><div class="ttdoc">Getter de l&#39;attribut Character. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00092">Game.cpp:92</a></div></div>
<div class="ttc" id="class_game_html_a53141ff044e4aa43f23d7dbed11272f6"><div class="ttname"><a href="class_game.html#a53141ff044e4aa43f23d7dbed11272f6">Game::getLevel</a></div><div class="ttdeci">int getLevel()</div><div class="ttdoc">Getter de l&#39;attribut level. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00160">Game.cpp:160</a></div></div>
<div class="ttc" id="class_game_html_a73f457fb36d780c9075cfa15499767a5"><div class="ttname"><a href="class_game.html#a73f457fb36d780c9075cfa15499767a5">Game::getMoveState</a></div><div class="ttdeci">shared_ptr&lt; GameState &gt; getMoveState()</div><div class="ttdoc">Getter de l&#39;attribut _moveState. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00127">Game.cpp:127</a></div></div>
<div class="ttc" id="class_game_html_a9e430bb75a7df9425b257d0018a97bb5"><div class="ttname"><a href="class_game.html#a9e430bb75a7df9425b257d0018a97bb5">Game::getEquipementFactory</a></div><div class="ttdeci">shared_ptr&lt; EquipementFactory &gt; getEquipementFactory()</div><div class="ttdoc">Getter de l&#39;attribut equipementFactory. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00185">Game.cpp:185</a></div></div>
<div class="ttc" id="class_game_html_a9fd07ff4033e3d6fc2a9960e250581e6"><div class="ttname"><a href="class_game.html#a9fd07ff4033e3d6fc2a9960e250581e6">Game::equip</a></div><div class="ttdeci">void equip(shared_ptr&lt; Equipement &gt; equipement)</div><div class="ttdoc">Methode d&#39;équipement du personnage. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00302">Game.cpp:302</a></div></div>
<div class="ttc" id="class_game_html_a8e92b564d2a037f0455b2f10ec9900f0"><div class="ttname"><a href="class_game.html#a8e92b564d2a037f0455b2f10ec9900f0">Game::moveCharacter</a></div><div class="ttdeci">void moveCharacter()</div><div class="ttdoc">Methode de déplacement du personnage. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00282">Game.cpp:282</a></div></div>
<div class="ttc" id="class_game_html_ab2fc71103cf572ed77dc4a30f31f9d5e"><div class="ttname"><a href="class_game.html#ab2fc71103cf572ed77dc4a30f31f9d5e">Game::setLevel</a></div><div class="ttdeci">void setLevel(int newLevel)</div><div class="ttdoc">setter du niveau actuel de la partie </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00196">Game.cpp:196</a></div></div>
<div class="ttc" id="class_game_html"><div class="ttname"><a href="class_game.html">Game</a></div><div class="ttdoc">client class for FuzzyOctoNemesis </div><div class="ttdef"><b>Definition:</b> <a href="_game_8hpp_source.html#l00029">Game.hpp:29</a></div></div>
<div class="ttc" id="class_game_html_a265b4a907a360afbb131334300968c9d"><div class="ttname"><a href="class_game.html#a265b4a907a360afbb131334300968c9d">Game::displayMap</a></div><div class="ttdeci">void displayMap()</div><div class="ttdoc">Methode d&#39;affichage de la carte. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00349">Game.cpp:349</a></div></div>
<div class="ttc" id="class_game_html_ab13bfc3f0c9e08551a0f55daeab31840"><div class="ttname"><a href="class_game.html#ab13bfc3f0c9e08551a0f55daeab31840">Game::getEndGameState</a></div><div class="ttdeci">shared_ptr&lt; GameState &gt; getEndGameState()</div><div class="ttdoc">Getter de l&#39;attribut _endGameState. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00149">Game.cpp:149</a></div></div>
<div class="ttc" id="class_game_html_a68cfd228e261c182cfadf90463dc4727"><div class="ttname"><a href="class_game.html#a68cfd228e261c182cfadf90463dc4727">Game::getMonstersList</a></div><div class="ttdeci">vector&lt; shared_ptr&lt; Monster &gt; &gt; * getMonstersList()</div><div class="ttdoc">Getter de l&#39;attribut monsterList. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00173">Game.cpp:173</a></div></div>
<div class="ttc" id="class_game_html_a243b312b1ec1fce3495cc6e254505cf7"><div class="ttname"><a href="class_game.html#a243b312b1ec1fce3495cc6e254505cf7">Game::getLootState</a></div><div class="ttdeci">shared_ptr&lt; GameState &gt; getLootState()</div><div class="ttdoc">Getter de l&#39;attribut _lootState. </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00138">Game.cpp:138</a></div></div>
<div class="ttc" id="class_game_html_a2355400f456780bddd38229a664e8b99"><div class="ttname"><a href="class_game.html#a2355400f456780bddd38229a664e8b99">Game::action</a></div><div class="ttdeci">void action()</div><div class="ttdoc">appelle la methode action sur l&#39;attribut d&#39;état </div><div class="ttdef"><b>Definition:</b> <a href="_game_8cpp_source.html#l00220">Game.cpp:220</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Game.cpp</b></li>
    <li class="footer">Generated on Sun Nov 30 2014 20:07:33 for Fuzzy Octo Nemesis by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
